datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

// 2. Configura el Generador de Cliente
generator client {
  provider = "prisma-client-js"
}

// 3. Modelos de "Cat√°logo" (Tablas simples)
model tblGenero {
  Codigo      Int           @id @default(autoincrement())
  Nombre      String?
  Empleados   tblEmpleado[]
  Directores  tblDirector[]
}

model tblPai {
  Codigo     Int           @id @default(autoincrement())
  Nombre     String?
  Peliculas  tblPelicula[]
  Directores tblDirector[]
}

model tblTipoDoc {
  Codigo      Int           @id @default(autoincrement())
  Nombre      String?
  Empleados   tblEmpleado[]
  Directores  tblDirector[]
}

model tblTipoTelefono {
  Codigo Int     @id @default(autoincrement())
  Nombre String?
}

model tblRol {
  Codigo Int     @id @default(autoincrement())
  Nombre String?
}

model tblEstado {
  Codigo Int     @id @default(autoincrement())
  Nombre String?
}

model tblCiudad {
  Codigo Int     @id @default(autoincrement())
  Nombre String?
}

// 4. Modelos de "Datos" (Tablas complejas con relaciones)
model tblEmpleado {
  Codigo           Int       @id @default(autoincrement())
  Nombre           String?
  Fecha_Nacimiento DateTime?
  NroDoc           String?
  Salario          Decimal?
  Activo           Boolean?

  Id_TipoDoc  Int?
  TipoDoc     tblTipoDoc? @relation(fields: [Id_TipoDoc], references: [Codigo])
  Id_Genero   Int?
  Genero      tblGenero?  @relation(fields: [Id_Genero], references: [Codigo])
  Id_Supervisor Int?
  Supervisor    tblEmpleado?  @relation("Supervisados", fields: [Id_Supervisor], references: [Codigo])
  Supervisados  tblEmpleado[] @relation("Supervisados")

  Peliculas   tblPelicula[]
  Directores  tblDirector[]
  Productoras tblProductora[]
}

model tblDirector {
  Codigo Int    @id @default(autoincrement())
  Nombre String?

  Id_Pais     Int?
  Pais        tblPai?      @relation(fields: [Id_Pais], references: [Codigo])
  Id_Empleado Int?
  Empleado    tblEmpleado? @relation(fields: [Id_Empleado], references: [Codigo])
  Id_Genero   Int?
  Genero      tblGenero?   @relation(fields: [Id_Genero], references: [Codigo])
  Id_TipoDoc  Int?
  TipoDoc     tblTipoDoc?  @relation(fields: [Id_TipoDoc], references: [Codigo])
  Peliculas   tblPelicula[]
}

model tblProductora {
  Codigo Int    @id @default(autoincrement())
  Nombre String?

  Id_Empleado Int?
  Empleado    tblEmpleado? @relation(fields: [Id_Empleado], references: [Codigo])
  Peliculas   tblPelicula[]
}

model tblPelicula {
  Codigo        Int       @id @default(autoincrement())
  Nombre        String?
  Fecha_Estreno DateTime?

  Id_Productora Int?
  Productora    tblProductora? @relation(fields: [Id_Productora], references: [Codigo])
  Id_Pais       Int?
  Pais          tblPai?        @relation(fields: [Id_Pais], references: [Codigo])
  Id_Director   Int?
  Director      tblDirector?   @relation(fields: [Id_Director], references: [Codigo])
  Id_Empleado   Int?
  Empleado      tblEmpleado?   @relation(fields: [Id_Empleado], references: [Codigo])
}